"use strict";(self.webpackChunkchatgpt_api=self.webpackChunkchatgpt_api||[]).push([[451],{40451:(w,v,b)=>{b.a(w,async(n,S)=>{try{b.r(v),b.d(v,{Tiktoken:()=>s.OU,__wbg_parse_3ac95b51fc312db8:()=>s.FO,__wbg_set_wasm:()=>s.oT,__wbg_stringify_029a979dfb73aa17:()=>s.YP,__wbindgen_error_new:()=>s.hd,__wbindgen_is_undefined:()=>s.XP,__wbindgen_object_drop_ref:()=>s.ug,__wbindgen_string_get:()=>s.qt,__wbindgen_throw:()=>s.Or,encoding_for_model:()=>s.dG,get_encoding:()=>s.iw});var u=b(30684),s=b(90952),g=n([u]);u=(g.then?(await g)():g)[0],(0,s.oT)(u),S()}catch(T){S(T)}})},90952:(w,v,b)=>{let n;function S(t){n=t}b.d(v,{FO:()=>R,OU:()=>m,Or:()=>K,XP:()=>L,YP:()=>O,dG:()=>M,hd:()=>B,iw:()=>U,oT:()=>S,qt:()=>C,ug:()=>I}),w=b.hmd(w);const u=new Array(128).fill(void 0);function s(t){return u[t]}u.push(void 0,null,!0,!1);let g=u.length;function y(t){const e=s(t);return function T(t){t<132||(u[t]=g,g=t)}(t),e}let l=0,z=null;function x(){return(null===z||0===z.byteLength)&&(z=new Uint8Array(n.memory.buffer)),z}let q=new(typeof TextEncoder>"u"?(0,w.require)("util").TextEncoder:TextEncoder)("utf-8");const V="function"==typeof q.encodeInto?function(t,e){return q.encodeInto(t,e)}:function(t,e){const r=q.encode(t);return e.set(r),{read:t.length,written:r.length}};function h(t,e,r){if(void 0===r){const a=q.encode(t),f=e(a.length);return x().subarray(f,f+a.length).set(a),l=a.length,f}let o=t.length,d=e(o);const i=x();let _=0;for(;_<o;_++){const a=t.charCodeAt(_);if(a>127)break;i[d+_]=a}if(_!==o){0!==_&&(t=t.slice(_)),d=r(d,o,o=_+3*t.length);const a=x().subarray(d+_,d+o);_+=V(t,a).written}return l=_,d}let A=null;function c(){return(null===A||0===A.byteLength)&&(A=new Int32Array(n.memory.buffer)),A}let N=new(typeof TextDecoder>"u"?(0,w.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});function F(t,e){return N.decode(x().subarray(t,t+e))}function p(t){g===u.length&&u.push(u.length+1);const e=g;return g=u[e],u[e]=t,e}N.decode();let W=null;function X(){return(null===W||0===W.byteLength)&&(W=new Uint32Array(n.memory.buffer)),W}function Y(t,e){return X().subarray(t/4,t/4+e)}function G(t,e){return x().subarray(t/1,t/1+e)}function U(t,e){if(null==n)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");try{const i=n.__wbindgen_add_to_stack_pointer(-16),_=h(t,n.__wbindgen_export_0,n.__wbindgen_export_1);n.get_encoding(i,_,l,p(e));var r=c()[i/4+0],o=c()[i/4+1];if(c()[i/4+2])throw y(o);return m.__wrap(r)}finally{n.__wbindgen_add_to_stack_pointer(16)}}function M(t,e){if(null==n)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");try{const i=n.__wbindgen_add_to_stack_pointer(-16),_=h(t,n.__wbindgen_export_0,n.__wbindgen_export_1);n.encoding_for_model(i,_,l,p(e));var r=c()[i/4+0],o=c()[i/4+1];if(c()[i/4+2])throw y(o);return m.__wrap(r)}finally{n.__wbindgen_add_to_stack_pointer(16)}}function J(t,e){try{return t.apply(this,e)}catch(r){n.__wbindgen_export_3(p(r))}}class m{static __wrap(e){const r=Object.create(m.prototype);return r.ptr=e,r}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){if(null==n)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");const e=this.__destroy_into_raw();n.__wbg_tiktoken_free(e)}constructor(e,r,o){if(null==n)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");const d=h(e,n.__wbindgen_export_0,n.__wbindgen_export_1),i=l,_=h(o,n.__wbindgen_export_0,n.__wbindgen_export_1),a=l,f=n.tiktoken_new(d,i,p(r),_,a);return m.__wrap(f)}get name(){try{const o=n.__wbindgen_add_to_stack_pointer(-16);n.tiktoken_name(o,this.ptr);var e=c()[o/4+0],r=c()[o/4+1];let d;return 0!==e&&(d=F(e,r).slice(),n.__wbindgen_export_2(e,1*r)),d}finally{n.__wbindgen_add_to_stack_pointer(16)}}encode(e,r,o){if(null==n)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");try{const k=n.__wbindgen_add_to_stack_pointer(-16),E=h(e,n.__wbindgen_export_0,n.__wbindgen_export_1);n.tiktoken_encode(k,this.ptr,E,l,p(r),p(o));var d=c()[k/4+0],i=c()[k/4+1],_=c()[k/4+2];if(c()[k/4+3])throw y(_);var f=Y(d,i).slice();return n.__wbindgen_export_2(d,4*i),f}finally{n.__wbindgen_add_to_stack_pointer(16)}}encode_ordinary(e){if(null==n)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");try{const i=n.__wbindgen_add_to_stack_pointer(-16),_=h(e,n.__wbindgen_export_0,n.__wbindgen_export_1);n.tiktoken_encode_ordinary(i,this.ptr,_,l);var r=c()[i/4+0],o=c()[i/4+1],d=Y(r,o).slice();return n.__wbindgen_export_2(r,4*o),d}finally{n.__wbindgen_add_to_stack_pointer(16)}}encode_with_unstable(e,r,o){if(null==n)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");try{const a=n.__wbindgen_add_to_stack_pointer(-16),f=h(e,n.__wbindgen_export_0,n.__wbindgen_export_1);n.tiktoken_encode_with_unstable(a,this.ptr,f,l,p(r),p(o));var d=c()[a/4+0],i=c()[a/4+1];if(c()[a/4+2])throw y(i);return y(d)}finally{n.__wbindgen_add_to_stack_pointer(16)}}encode_single_token(e){if(null==n)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");const r=function Z(t,e){const r=e(1*t.length);return x().set(t,r/1),l=t.length,r}(e,n.__wbindgen_export_0);return n.tiktoken_encode_single_token(this.ptr,r,l)>>>0}decode(e){if(null==n)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");try{const i=n.__wbindgen_add_to_stack_pointer(-16),_=function $(t,e){const r=e(4*t.length);return X().set(t,r/4),l=t.length,r}(e,n.__wbindgen_export_0);n.tiktoken_decode(i,this.ptr,_,l);var r=c()[i/4+0],o=c()[i/4+1],d=G(r,o).slice();return n.__wbindgen_export_2(r,1*o),d}finally{n.__wbindgen_add_to_stack_pointer(16)}}decode_single_token_bytes(e){if(null==n)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");try{const i=n.__wbindgen_add_to_stack_pointer(-16);n.tiktoken_decode_single_token_bytes(i,this.ptr,e);var r=c()[i/4+0],o=c()[i/4+1],d=G(r,o).slice();return n.__wbindgen_export_2(r,1*o),d}finally{n.__wbindgen_add_to_stack_pointer(16)}}token_byte_values(){if(null==n)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");return y(n.tiktoken_token_byte_values(this.ptr))}}function I(t){y(t)}function L(t){return void 0===s(t)}function O(){return J(function(t){return p(JSON.stringify(s(t)))},arguments)}function C(t,e){if(null==n)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");const r=s(e),o="string"==typeof r?r:void 0;var d=function j(t){return null==t}(o)?0:h(o,n.__wbindgen_export_0,n.__wbindgen_export_1),i=l;c()[t/4+1]=i,c()[t/4+0]=d}function B(t,e){return p(new Error(F(t,e)))}function R(){return J(function(t,e){return p(JSON.parse(F(t,e)))},arguments)}function K(t,e){throw new Error(F(t,e))}},30684:(w,v,b)=>{var n=b(90952);w.exports=b.v(v,w.id,"4ef5efab9b9c4f36",{"./tiktoken_bg.js":{__wbindgen_object_drop_ref:n.ug,__wbindgen_is_undefined:n.XP,__wbg_stringify_029a979dfb73aa17:n.YP,__wbindgen_string_get:n.qt,__wbindgen_error_new:n.hd,__wbg_parse_3ac95b51fc312db8:n.FO,__wbindgen_throw:n.Or}})}}]);